---
import Layout from '../layouts/Layout.astro';
import NewsCarousel from '../components/NewsCarousel';
import GalleryCard from '../components/GalleryCard.astro';
import news1 from '../assets/images/news1.webp';
import news2 from '../assets/images/news2.webp';
import news3 from '../assets/images/news3.webp';
import kartingGallery from '../assets/images/kart-gallery.webp';
import motoGallery from '../assets/images/moto-gallery.webp';
import eventsGallery from '../assets/images/events-gallery.webp';

const newsItems = [
  { id: 1, title: 'P1 Speedway abre sus puertas al público', image: news1 },
  { id: 2, title: 'Únete con nosotros al Track Day Experiencia P1', image: news2 },
  { id: 3, title: 'Gran evento de inauguración en P1 Speedway', image: news3 },
];

const galleries = [
  { title: 'Kartismo', image: kartingGallery, link: '/galeria-kartismo' },
  { title: 'Motociclismo', image: motoGallery, link: '/galeria-motociclismo' },
  { title: 'Últimos Eventos', image: eventsGallery, link: '/ultimos-eventos' },
];
---

<Layout title="Noticias - P1 Speedway">
  <!-- Hero Section -->
  <section class="relative pt-32 pb-16 md:pt-40 md:pb-24 overflow-hidden bg-black flex items-center justify-center">
    <div class="absolute inset-0 z-0">
      <div class="absolute inset-0 bg-red-900/20 blur-[150px] rounded-full scale-150 translate-y-[-50%]"></div>
    </div>
    <div class="relative z-10 text-center px-4 max-w-4xl mx-auto">
      <h1 class="text-4xl md:text-5xl lg:text-7xl font-black text-white mb-6 tracking-tight">
        Últimas <span class="text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-red-700">Noticias</span>
      </h1>
      <p class="text-lg md:text-xl text-neutral-400 max-w-2xl mx-auto leading-relaxed">
        Mantente al tanto de los eventos más recientes, resultados de carreras y novedades en el ecosistema P1.
      </p>
    </div>
  </section>

  <main class="bg-black py-12 md:py-20 flex-grow">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      
      <!-- Featured News Carousel -->
      <section class="mb-24">
        <div class="flex items-center justify-between mb-8">
          <h2 class="text-2xl md:text-3xl font-bold text-white flex items-center gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-flame text-red-500"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></svg>
            Destacado
          </h2>
        </div>
        
        {/* React Client Component using client:idle for optimal loading */}
        <NewsCarousel client:idle newsItems={newsItems} />
      </section>

      <!-- Galleries Section -->
      <section>
        <div class="flex items-center justify-between mb-8">
          <h2 class="text-2xl md:text-3xl font-bold text-white mb-2 flex items-center gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-image text-red-500"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>
            Nuestras Galerías
          </h2>
        </div>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
          {galleries.map((gallery) => (
            <GalleryCard
              title={gallery.title}
              image={gallery.image}
              link={gallery.link}
            />
          ))}
        </div>
      </section>
      
    </div>
  </main>
</Layout>
